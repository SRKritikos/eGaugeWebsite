<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core">
    <ui:composition template="resources/templates/common.xhtml">
        <ui:define name="maincontent">
            <h:outputStylesheet name="css/userprofile.css"/>
            <div id="userprofile-wrapper" class="container-fluid">
                 <div class="row">
                    <div id="fillergrip" class="col-md-3 col-xs-0"></div>
                        <h:form class="col-md-6 col-xs-12 formUserProfile">
                            <h4>Change Password</h4>
                            <div class="form-group">
                                <h:outputText id="passwordChangeErrorMsg" binding="#{forgotpasswordbean.errorMsg}"/>
                                <h:message for="passwordChangeErrorMsg" style="font-size: 1em; color : #{forgotpasswordbean.msgColor}"/>
                                <label for="inputEmail" class="col-form-label">E-Mail</label>
                                <h:inputText class="form-control" id="signUpEmail" value="#{forgotpasswordbean.email}"
                                             required="true" requiredMessage="*Please enter your last name"
                                             validatorMessage="Invalid e-mail address">
                                        <f:validateRegex pattern="[\w\.-]*[a-zA-Z0-9_]@[\w\.-]*[a-zA-Z0-9]\.[a-zA-Z][a-zA-Z\.]*[a-zA-Z]" />
                                </h:inputText>
                                <h:message for="signUpEmail" style="color : red"/>
                                <label for="oldPassword" class="col-form-label">Old Password</label>
                                <h:inputSecret id="oldPassword" class="form-control" required="true"
                                               requiredMessage="*Please enter email" value="#{forgotpasswordbean.oldPassword}">       
                                </h:inputSecret>
                                <h:message for="oldPassword" style="color : #{userprofilebean.errorColor}"/>
                            </div>
                            <div class="form-group">
                                <label for="newPassword" class="col-form-label">New Password</label>
                                <h:inputSecret id="newPassword" class="form-control" required="true"
                                               requiredMessage="*Please enter new password" value="#{forgotpasswordbean.newPassword}">
                                    <f:validator validatorId="matchingpasswordvalidator"/>
                                    <f:attribute name="confirmPassword" value="#{confirmPassword}"/>
                                </h:inputSecret>
                                <h:message for="newPassword" style="color : red"/>                            
                            </div>
                            <div class="form-group">
                                <label for="confirmPassword" class="col-form-label">Confirm Password</label>
                                <h:inputSecret id="confirmPassword" class="form-control" required="true"
                                               requiredMessage="*Please enter new password again" binding="#{confirmPassword}"/>
                                <h:message for="confirmPassword" style="color : red"/>
                            </div>
                            <h:commandButton class="btn btn-primary" value="Change Password"
                                             action="#{forgotpasswordbean.changePassword()}"/>
                        </h:form>
                     <div id="fillergrip" class="col-md-3 col-xs-0"></div>
                </div>
            </div>
        </ui:define>
    </ui:composition>
</html>
