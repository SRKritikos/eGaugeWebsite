<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      >
    <ui:composition template="resources/templates/common.xhtml">
        <ui:define name="maincontent">
            <h:outputScript name="js/controller/LoadIndexController.js" />
            <h:outputScript name="js/controller/GraphRequestController.js" />
            <h:outputScript name="js/Model/GraphPoint.js" />
            <h:outputScript name="js/view/MainGraph.js" />            
            <div class="col-xs-12" id="inst-wrapper">
                <h:form id="formInstData">
                    <div id="kingston1div" class="col-xs-6 col-md-3 text-center">
                        <h3>Kingston 1</h3> 
                        <div class=" instimg-divs" 
                             style="border-color:#{deviceinfobean.kingston1BorderColor}">
                            <h:graphicImage class="img-responsive" library="images" name="greenevstation.jpg"/>
                        </div>
                        <h:outputText id="kingston1out" value="#{instbean.kingston1Power} kW"/>
                        <p>
                            <h:outputText value="#{deviceinfobean.kingston1Info}"/>
                        </p>
                    </div>
                    <div id="kingston2div" class="col-xs-6 col-md-3 text-center">
                        <h3>Kingston 2</h3>
                        <div class=" instimg-divs text-center"
                             style="border-color:#{deviceinfobean.kingston2BorderColor}">
                            <h:graphicImage class="img-responsive" library="images" name="greenevstation.jpg"/>  
                        </div>
                        <h:outputText id="kingston2out" value="#{instbean.kingston2Power} kW"/>
                        <p>
                            <h:outputText value="#{deviceinfobean.kingston2Info}"/>
                        </p>
                    </div>
                    <div id="brockvillediv" class="col-xs-6 col-md-3 text-center">
                        <h3>Brockville</h3>
                        <div class=" instimg-divs text-center"
                             style="border-color:#{deviceinfobean.brockvilleBorderColor}">
                            <h:graphicImage class="img-responsive" library="images" name="greenevstation.jpg"/>  
                        </div>
                        <h:outputText id="brockvilleout" value="#{instbean.brockvillePower} kW"/>
                        <p>
                            <h:outputText value="#{deviceinfobean.brockvilleInfo }"/>
                        </p>  
                    </div>
                    <div id="cornwalldiv" class="col-xs-6 col-md-3 text-center">
                        <h3>Cornwall</h3>
                        <div class=" instimg-divs text-center"
                             style="border-color:#{deviceinfobean.cornwallBorderColor}">
                            <h:graphicImage class="img-responsive" library="images" name="greenevstation.jpg"/>      
                        </div>
                         <h:outputText id="cornwallout" value="#{instbean.cornwallPower} kW"/>
                        <p>
                            <h:outputText value="#{deviceinfobean.cornwallInfo}"/>
                        </p>
                    </div>
                    <h:commandButton id="btnUpdateInstData" value="submit" action="#{instbean.updateReadings()}" >
                        <f:ajax execute="@form" render="@form"/> 
                    </h:commandButton> 
                </h:form>
                <div class="text-center" >
                    <h:outputText value="#{deviceinfobean.mainInfoDiv}"/>
                </div>
            </div>
           
            <div id="graph-wrapper">
                <div id="graph-holder" border="2px" style="border-color: blue">
                    <svg></svg>                       
                </div>
            </div>
            <h:form id="formDeviceData" class="form-horizontal" role="form">
                <div id="date-wrapper" class="form-group col-xs-12 "> 
                    <label for="requestStartDate" class="col-xs-offset-4 col-xs-1 lblDates"> Start: </label>
                    <div class="input-group date col-xs-3" id="startDate">
                        <h:inputText class="form-control"  id="requestStartDate" value="#{devicedatabean.startDate}"  />
                            <div class="input-group-addon">
                                <span class="glyphicon glyphicon-calendar"></span>
                            </div>
                    </div>
                    <label for="requestStartDate" class="col-xs-offset-4 col-xs-1 lblDates"> End: </label>
                    <div class="input-group date col-xs-3" id="endDate"> 
                        <h:inputText class="form-control" id="requestEndDate" value="#{devicedatabean.endDate}"/>    
                            <div class="input-group-addon">
                                    <span class="glyphicon glyphicon-calendar"></span>
                            </div>
                    </div>
                </div>
                <button type="button" class="btn btn-md btn-success col-xs-offset-5"
                       id="btnDeviceData" onclick="requestGraph()">
                        Submit
                </button>
            </h:form>   
        </ui:define> 
    </ui:composition>
</html>

