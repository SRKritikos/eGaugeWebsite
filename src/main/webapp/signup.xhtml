<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
    >
    <ui:composition template="resources/templates/common.xhtml">
        <ui:define name="maincontent">
            <div class="container-fluid">
                <div class="row">
                <div id="fillergrip" class="col-md-3 col-xs-0"></div>
                <div class="col-md-6 col-xs-12" id="signup-wrapper" >
                    <h:form id="formSignUp">
                        <h:outputText id="signUpErrorMsg" binding="#{signupbean.errorMsg}"/>
                        <h:message for="signUpErrorMsg" style="font-size : 1em; color : red; margin-bottom: 1em"/>
                        <div class="form-group">
                            <label for="signUpFirstName">First Name</label>
                            <h:inputText class="form-control" id="signUpFirstName" value="#{signupbean.firstName}"
                                         required="true" requiredMessage="*Please enter your first name">
                            </h:inputText>
                            <h:message for="signUpFirstName" style="color:red"/>
                        </div>
                        <div class="form-group">
                            <label for="signUpLastName">Last Name</label>
                            <h:inputText class="form-control" id="signUpLastName" value="#{signupbean.lastName}"
                                         required="true" requiredMessage="*Please enter your last name"/>
                            <h:message for="signUpLastName" style="color : red"/>
                        </div>
                        <div class="form-group">
                            <label for="inputEmail">E-Mail</label>
                            <h:inputText class="form-control" id="signUpEmail" value="#{signupbean.email}"
                                         required="true" requiredMessage="*Please enter your email address"
                                         validatorMessage="Invalid e-mail address">
                                    <f:validateRegex pattern="[\w\.-]*[a-zA-Z0-9_]@[\w\.-]*[a-zA-Z0-9]\.[a-zA-Z][a-zA-Z\.]*[a-zA-Z]" />
                            </h:inputText>
                            <h:message for="signUpEmail" style="color : red"/>
                        </div>
                        <div class="form-group">
                            <label for="signUpPassword">Password</label>
                            <h:inputSecret class="form-control" id="signUpPassword" value="#{signupbean.password}"
                                           required="true" requiredMessage="*Please enter password">
                                <f:validator validatorId="matchingpasswordvalidator"/>
                                <f:attribute name="confirmPassword" value="#{confirmPassword}"/>
                            </h:inputSecret>
                            <h:message for="signUpPassword" style="color : red"/> 
                        </div>
                        <div class="form-group">
                            <label for="signUpConfirmPassword" class="col-form-label">Confirm Password</label>
                            <h:inputSecret id="signUpConfirmPassword" class="form-control" required="true"
                                           requiredMessage="*Please enter password again" binding="#{confirmPassword}"/>
                            <h:message for="signUpConfirmPassword" style="color : red"/>
                        </div>
                        <div class="form-group">
                            <label for="selectPrefCampus" >Preferred Campus</label>
                            <h:selectOneMenu class="form-control" id="signUpSelectCampus" value="#{signupbean.preferredCampus}">
                                <f:selectItem itemValue="Kingston" itemLabel="Kingston"/>
                                <f:selectItem itemValue="Cornwall" itemLabel="Cornwall"/>
                                <f:selectItem itemValue="Brockville" itemLabel="Brockville"/>
                            </h:selectOneMenu>
                        </div>
                        <div class="form-group">
                            <div class="g-recaptcha" data-sitekey="#{signupbean.SITE_KEY}"></div>
                        </div>
                        <h:commandButton class="btn btn-success" id="btnSignUp" value="Submit" action="#{signupbean.signUpUser()}"/>
                    </h:form>
                </div>
                <div id="fillergrip" class="col-md-3 col-xs-0"></div>
                </div>
            </div>
        </ui:define>
    </ui:composition>          
</html>
